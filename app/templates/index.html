{% extends "layout.html" %}

{% block content %}
    <h2>Поиск</h2>
    <form action="/search" method="POST" class="form-container" style="width: 50%">
        <div class="form-group">
            <label for="term">Запрос <span style="color: #ff2400">*</span></label>
            <input type="text" id="term" name="term" required>

            <label for="max_results">
                Количество результатов в каждой из систем: <span style="color: #ff2400">*</span>
            </label>
            <input type="number" id="max_results" name="max_results" min="1" required>

            <label for="field">Поле для поиска:</label>
            <input type="text" id="field" name="field">
            <small>Введите поле для поиска, например, <strong>title</strong> или <strong>abstract</strong>.</small>

            <label>Даты публикации:</label>
            <label for="mindate">От:</label>
            <small>Возможные форматы: YYYY/MM/DD; YYYY; YYYY/MM</small>
            <input type="text" id="mindate" name="mindate">

            <label for="maxdate">До:</label>
            <small>Возможные форматы: YYYY/MM/DD; YYYY; YYYY/MM</small>
            <input type="text" id="maxdate" name="maxdate">

            <label for="as_sdt">Тип поиска</label>
            <select id="as_sdt" name="as_sdt" required>
                <option value="0">Только статьи</option>
                <option value="1">Только патенты</option>
            </select>

            <label for="article_type">Тип статей</label>
            <select id="article_type" name="as_rr">
                <option value="0">Все статьи</option>
                <option value="1">Обзорные статьи</option>
            </select>
            <div class="checkbox-group">
                <label>Методы: (опционально)</label>
                <div class="checkbox-container">
                    <label class="checkbox-label">
                        <input type="checkbox" name="method" value="DSEM">
                        DSEM
                    </label>
                    <label class="checkbox-label">
                        <input type="checkbox" name="method" value="IK">
                        IK
                    </label>
                    <label class="checkbox-label">
                        <input type="checkbox" name="method" value="XRD">
                        XRD
                    </label>
                    <label class="checkbox-label">
                        <input type="checkbox" name="method" value="NMR">
                        NMR
                    </label>
                    <label class="checkbox-label">
                        <input type="checkbox" name="method" value="All">
                        All
                    </label>
                </div>
            </div>
            <div class="modal fade" id="modal" tabindex="-1" aria-labelledby="modalLabel" aria-hidden="true">
            <div class="modal-dialog">
                <div class="modal-content">
                    <div class="modal-header">
                        <p id="progress-status" class="mt-2"></p>
                        <button id="close-btn" type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                    </div>
                    <div class="modal-body">
                        <div id="progress-bar">
                            <div id="progress"></div>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <div class="form-group">
            <button id="search-btn" class="btn-custom" type="submit" data-bs-toggle="modal" data-bs-target="#modal">
                <svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" fill="currentColor" class="bi bi-search-heart" viewBox="0 0 18 18">
                    <path d="M6.5 4.482c1.664-1.673 5.825 1.254 0 5.018-5.825-3.764-1.664-6.69 0-5.018"></path>
                    <path d="M13 6.5a6.47 6.47 0 0 1-1.258 3.844q.06.044.115.098l3.85 3.85a1 1 0 0 1-1.414 1.415l-3.85-3.85a1 1 0 0 1-.1-.115h.002A6.5 6.5 0 1 1 13 6.5M6.5 12a5.5 5.5 0 1 0 0-11 5.5 5.5 0 0 0 0 11"></path>
                </svg>
                Найти статьи
            </button>
        </div>
        </div>
    </form>
{% endblock %}